<head>
  	<meta charset="utf-8">
  	<meta name="viewport" content="width=device-width">
	
	<title>
	
	  Non-linear interpolation in CSS - Mike Riethmuller
	
	</title>

	<noscript>
		<link rel="stylesheet" href="https://madebymike.com.aucss/styles.min.css">
	</noscript>

	<meta name="twitter:card" content="summary" />
	<meta name="twitter:site" content="@MikeRiethmuller" />
	<meta name="twitter:title" content="Non-linear interpolation in CSS - Mike Riethmuller" />
	<meta name="twitter:creator" content="@MikeRiethmuller" />
	<meta name="twitter:description" content="" />
	<meta name="twitter:image:src" content="https://madebymike.com.au/stuff/mug.jpg" />

	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/manifest.json">
	<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#FF6E4A">
	<meta name="theme-color" content="#FF6E4A">

	<style>
		ZgotmplZ
	</style>

	<link href='//fonts.googleapis.com/css?family=Handlee|Libre+Baskerville' rel='stylesheet' type='text/css'>
	<script>
		function loadCSS(e,t,n){"use strict";var i=window.document.createElement("link");var o=t||window.document.getElementsByTagName("script")[0];i.rel="stylesheet";i.href=e;i.media="only x";o.parentNode.insertBefore(i,o);setTimeout(function(){i.media=n||"all"})}
loadCSS( "/css/styles.min.css" );
	</script>

	

</head>
<body class="">
	<header>
		<div class="container">
			<ul>
				<li class="home"><a href="/">Home</a></li>
				<li class="writing"><a href="/writing">Writing</a></li>
				<li class="hire"><a href="/hire">Hire Me</a></li>
			</ul>
		</div>
	</header>
	

<main>
<article>
  <section>
    <div class="container">
      <h1 class="post-title">Non-linear interpolation in CSS</h1>
      <span class="post-date"><time>May 18, 2017</time></span>

      

      <p>A few years ago I wrote about fluid typography techniques that show how you can use calc() and viewport units to create transitions between different font-sizes as the viewport size changes. If you&rsquo;d like to know more about how this technique works you should read my article <a href="https://madebymike.com.au/writing/precise-control-responsive-typography/">Precise control over responsive typography</a>.</p>

<p>Recently these ideas have circulated and gained more traction. I&rsquo;ve seen more large sites using fluid typography and other people writing about it and expanding on my initial ideas and techniques. One recent example of this was an article by Jake Wilson <a href="https://medium.com/@jakobud/css-polyfluidsizing-using-calc-vw-breakpoints-and-linear-equations-8e15505d21ab">CSS Poly Fluid Sizing using calc(), vw, breakpoints and linear equations</a>.</p>

<p>One of the most interesting things in Jake&rsquo;s article is the idea of having multiple points of transition. He refers to these as &ldquo;<em>Breakpoints + Multiple Linear Equations</em>&rdquo; but I like to think of these as &ldquo;bending points&rdquo;. I like the term bending points rather than breakpoints for these because to me, a breakpoint implies there should be a jump and that&rsquo;s not what this is. These are intermediary points where the rate of scale changes.</p>

<p>This idea of non-linear transitions is something I’ve been thinking about for a while. Unfortunately at the moment we can&rsquo;t do this with CSS alone. So when I’m asked about this, I usually reply with the same suggestion Jake has, that is to use multiple linear transitions. But I remain a little hesitant about how people might use this technique.</p>

<p>I&rsquo;d love to be able to use non-linear equations for transitions of font-size or other properties, but until there is a native function in CSS, I think adding a large number of intermediary steps only adds complexity.</p>

<p>Undoubtedly some people will be willing to set many bending points at the cost readability and maintainability. In a lot of cases, readability and maintainability are more important than finessing a few pixels difference at uncommon screen sizes. That&rsquo;s why the original examples I created only allowed for only a single minimum and maximum font-size.</p>

<p>I also felt that that equations and ideas were complex enough and based on the feedback I&rsquo;ve had, I think this is often still the case. I get that, sometimes you just want the font to bend and you don’t want to worry about how the maths works.</p>

<p>Yet this is only one type of user. Clearly many people want to do this, and despite the complexity, some designs could benefit from using a small number of bending points. Besides, CSS has other complex concepts.</p>

<p>If you want to use bending points to transition CSS values between multiple intermediary points, it should be done deliberately and with restraint; not just because you can. Aside from adding complexity to the CSS, for standard body text with limited variation in size the difference is not particularly noticeable. This is a technique better reserved for headings and other key features where small details matter. Assuming you do have a good case for more than one bending point, how do you determine what those intermediary points should be? And how do we make this accessible to all types of users?</p>

<p>Jake talks about statistics as a tool for determining the minimum and maximum font-sizes at points along a trendline. I found this to be an interesting idea. I like the mathematical approach, but if maths is not your thing and calculating a polynomial regression trendline is probably not going to be up your alley either.</p>

<p>For me the statistical approach is an interesting aside to what we are trying to do; choose a set of appropriate bending points. If you like this type of mathematics you can of course use statistics as a tool for determining these points, however, it would be equally valid to choose points that have no mathematical basis, or to use a modular scale, or a cubic bezier function, or any other method you can imagine for drawing a line between two points.
If we were to have a native interpolation function in CSS, it would likely be similar to existing features. One of the great things about CSS is that all the different parts of it are interoperable. That is, they work together and it is because calc() and viewport units work together that we’re able to get linear-interpolation in CSS. If we want a native interpolation function in CSS should be interoperable as well.</p>

<p>Changing the way we are used to doing things is difficult, learning a new syntax is hard, even when it&rsquo;s superior to previous techniques. Interoperability can help with this and that’s one of the reasons why you see when new layout properties shared between flexbox and CSS grid. It turns out that fluid values in CSS have a lot in common with animation.</p>

<p>That&rsquo;s why I think polynomial regression and statistics might not the best mental model for thinking about interpolation in CSS. After all, we already have native interpolation with animation. Animation-timing-functions like <code>cubic-bezier</code> and keywords like <code>ease-in</code>, provide all the tools we need in a way that will be somewhat familiar to developers and designers.</p>

<p>The missing piece is direct access to the internal interpolation function that powers animation in CSS and the ability to replace the time dimension with the viewport or another custom completion value. A custom completion value could provide further compatibility with future CSS features such as container queries. I wrote about these ideas in more detail in an article <a href="https://madebymike.com.au/writing/interpolation-without-animation/">interpolation outside of animation</a>.</p>

<p>It might sound a little complex but it&rsquo;s the same mathematics we use when creating animation on the web.  CSS does a good job of abstracting away the mathematical complexities you probably don’t think about it but you understand the result of applying keywords like <code>ease-in</code> to an animation. The average doesn&rsquo;t need to understand what type of function this is or how it works. It&rsquo;s not a big leap to take these ideas and use them for creating the effects in typography and other areas of the web.</p>

<p>Fluid typography doesn’t need to be hard, so I&rsquo;ve taken these ideas and feedback from the community to create a mixin that generates one or more bending points with a syntax that closely aligns with animation-functions:</p>

<p><p data-height="550" data-theme-id="dark" data-slug-hash="oWqvNa" data-default-tab="css,result" data-user="MadeByMike" data-embed-version="2" data-pen-title="Bending points " class="codepen">See the Pen <a href="http://codepen.io/MadeByMike/pen/oWqvNa/">Bending points </a> by Mike (<a href="http://codepen.io/MadeByMike">@MadeByMike</a>) on <a href="http://codepen.io">CodePen</a>.</p>
<script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script></p>

<p>To properly see this in action you might want to <a href="http://codepen.io/MadeByMike/pen/oWqvNa/?editors=0100" target="_blank">open it in a new window</a> so you can resize it.</p>

<p>You can <a href="https://www.sassmeister.com/gist/beac01f68da4f9ef3007c0d17f72d8c6">grab the mixin you can get it here</a>.</p>

<p>This code for the mixin looks complex but it does a lot of the maths, so that you don&rsquo;t need to consider anything except the type of easing you want to apply.</p>

<p>Like other examples of fluid typography this one requires a min and max value for the target CSS property and screen sizes. But unlike other examples this one also takes an optional easing value.</p>

<p>The easing value works exactly like an <a href="https://developer.mozilla.org/en/docs/Web/CSS/animation-timing-function">animation-timing-function</a>. You can give it a keyword or even a <code>cubic-bezier</code> function and it will calculate the intermediary values and set up the transitions. Note: It does not accept <code>step</code> values.</p>

<p>The final optional parameter is the number of bending points. This defaults to 2, and in most cases I&rsquo;d recommend leaving it at the default, but because I know you are going to do it anyway, you can set as many bending points as you like.</p>

<p>Here are some examples to get you started:</p>

<pre><code class="language-scss">.classic-linear {
  @include interpolate('font-size', 600px, 12px, 900px, 24px);
}
.easy-peasy {
  @include interpolate('font-size', 600px, 12px, 900px, 24px, 'ease-in');
}
.cubic-bezier {
  @include interpolate('font-size', 600px, 12px, 900px, 24px, 'cubic-bezier(0.755, 0.05, 0.855, 0.06)');
}
.bloat-my-css {
  @include interpolate('font-size', 600px, 12px, 900px, 24px, 'ease-in-ease-out', 10);
}
</code></pre>

<p>This aims to show how I think native interpolation should work in browsers, but it still only works where calc does. I think there is a lot more discussion to be had and problems that we need to solve before we can have a real native interpolation in CSS. I welcome contributions to this discussion and ideas from maths, statistics, animation or any areas. One thing that I think is increasingly apparent is that the web is fluid medium and breakpoints will not continue to be the only answer, or the key feature in the future of responsive design.</p>

<p>If you want to <a href="https://www.sassmeister.com/gist/beac01f68da4f9ef3007c0d17f72d8c6">use this in a project grab the mixin here</a>.</p>

<p>If you want to don&rsquo;t want multiple bending points you can still use the example above, but if you want a simple linear interpolation mixin <a href="https://www.sassmeister.com/gist/d8714d9b987e376ad52db5ede5401ff3">you can find my previous example here</a>.</p>

<p>Finally if you want to look at some more examples <a href="http://codepen.io/collection/nLbRMZ/">I have a fluid typography collection on CodePen</a>.</p>
 

    </div>
  </section>
</article>

  <section>
    <div class="container">
      


    </div>
  </section>
</main>
    <footer>
      <section>
        <div class="container">
          <ul>
            <li><a href="http://codepen.io/MadeByMike/"><svg class="logo"><use xlink:href="#codepen-logo"></use></svg>Me</a></li>
            <li><a href="https://twitter.com/MikeRiethmuller"><svg class="logo"><use xlink:href="#twitter-logo"></use></svg>Me</a></li>
            <li><a href="https://github.com/MadeByMike"><svg class="logo"><use xlink:href="#github-logo"></use></svg>Me</a></li>
          </ul>
        </div>
      </section>
    </footer>

      <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
	<symbol id="codepen-logo" viewBox="0 0 512 512">
		<path d="M427 201.9c-0.6-4.2-2.9-8-6.4-10.3L264.2 87.3c-4.9-3.3-11.4-3.3-16.3 0L91.4 191.6c-4 2.7-6.5 7.4-6.5 12.2v104.3c0 4.8 2.5 9.6 6.5 12.2l156.4 104.3c4.9 3.3 11.4 3.3 16.3 0L420.6 320.4c4-2.6 6.6-7.4 6.6-12.2V203.9C427.1 203.2 427.1 202.6 427 201.9 427 201.7 427.1 202.6 427 201.9zM270.7 127.1l115.2 76.8 -51.5 34.4 -63.8-42.7V127.1zM241.3 127.1v68.6l-63.8 42.7 -51.5-34.4L241.3 127.1zM114.3 231.4l36.8 24.6 -36.8 24.6V231.4zM241.3 384.9L126.1 308.1l51.5-34.4 63.8 42.6V384.9zM256 290.8l-52-34.8 52-34.8 52 34.8L256 290.8zM270.7 384.9V316.3l63.8-42.6 51.5 34.4L270.7 384.9zM397.7 280.6l-36.8-24.6 36.8-24.6V280.6z"/>
	</symbol>
	<symbol id="github-logo" viewBox="0 0 512 512">
		<path d="M256 70.7c-102.6 0-185.9 83.2-185.9 185.9 0 82.1 53.3 151.8 127.1 176.4 9.3 1.7 12.3-4 12.3-8.9V389.4c-51.7 11.3-62.5-21.9-62.5-21.9 -8.4-21.5-20.6-27.2-20.6-27.2 -16.9-11.5 1.3-11.3 1.3-11.3 18.7 1.3 28.5 19.2 28.5 19.2 16.6 28.4 43.5 20.2 54.1 15.4 1.7-12 6.5-20.2 11.8-24.9 -41.3-4.7-84.7-20.6-84.7-91.9 0-20.3 7.3-36.9 19.2-49.9 -1.9-4.7-8.3-23.6 1.8-49.2 0 0 15.6-5 51.1 19.1 14.8-4.1 30.7-6.2 46.5-6.3 15.8 0.1 31.7 2.1 46.6 6.3 35.5-24 51.1-19.1 51.1-19.1 10.1 25.6 3.8 44.5 1.8 49.2 11.9 13 19.1 29.6 19.1 49.9 0 71.4-43.5 87.1-84.9 91.7 6.7 5.8 12.8 17.1 12.8 34.4 0 24.9 0 44.9 0 51 0 4.9 3 10.7 12.4 8.9 73.8-24.6 127-94.3 127-176.4C441.9 153.9 358.6 70.7 256 70.7z"/>
	</symbol>
	<symbol id="twitter-logo" viewBox="0 0 512 512">
		<path d="M419.6 168.6c-11.7 5.2-24.2 8.7-37.4 10.2 13.4-8.1 23.8-20.8 28.6-36 -12.6 7.5-26.5 12.9-41.3 15.8 -11.9-12.6-28.8-20.6-47.5-20.6 -42 0-72.9 39.2-63.4 79.9 -54.1-2.7-102.1-28.6-134.2-68 -17 29.2-8.8 67.5 20.1 86.9 -10.7-0.3-20.7-3.3-29.5-8.1 -0.7 30.2 20.9 58.4 52.2 64.6 -9.2 2.5-19.2 3.1-29.4 1.1 8.3 25.9 32.3 44.7 60.8 45.2 -27.4 21.4-61.8 31-96.4 27 28.8 18.5 63 29.2 99.8 29.2 120.8 0 189.1-102.1 185-193.6C399.9 193.1 410.9 181.7 419.6 168.6z"/>
	</symbol>
	<symbol id="arrow-icon" viewBox="0 0 10 10">
		<polygon points="1,0 9,5 1,10 "/>
	</symbol>
	<symbol id="arrow-icon-reverse" viewBox="0 0 10 10">
		<polygon points="9,0 1,5 9,10"/>
	</symbol>
  </svg>

    <script type="text/javascript">
if ( 'serviceWorker' in navigator && (typeof Cache !== 'undefined' && Cache.prototype.addAll) ) {
  navigator.serviceWorker.register('/sw.js');
}
</script>




  </body>
</html>